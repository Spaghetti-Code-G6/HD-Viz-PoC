<!DOCTYPE html>
<html>

<head>
	<title>PoC - HD-Viz</title>

	<meta charset="utf-8">

	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="aux_for_samuel.js"></script>
	<script type="text/javascript" src="d3.v6.min.js"></script>
	<script type="text/javascript" src="data_display.js"></script>
	<script type="text/javascript" src="scatter_plot_matrix.js"></script>
	<script type="text/javascript" src="aux_functions.js"></script>

	<script type="text/javascript" src="jquery.tabshort.js"></script>
	<link
      href="https://fonts.googleapis.com/css?family=Poppins&display=swap"
      rel="stylesheet"
    />
</head>
<body onload="main()">
	
	<h1>HD - Viz</h1>
	
	<div id="form-inserimento">
		<form ref='uploadForm' id='uploadForm' action='/file' method='post' encType="multipart/form-data">
			<input type="file" name="csvFile" id="csvFile" />
			<input type='button' value='Upload!' onclick="sendData()" />

		</form>
	</div>


	<div id="tab-menu" class="tab">
		<button class="tablinks active" onclick="openPage(event, 'ScatterPlot')">Scatter Plot Matrix</button>
		<button class="tablinks" onclick="openPage(event, 'ForceField')">Force Field</button>
		<button class="tablinks" onclick="openPage(event, 'HeatMap')">Heat Map</button>
		<button class="tablinks" onclick="openPage(event, 'DistanceMap')">Distance Map</button>
		<button class="tablinks" onclick="openPage(event, 'ProiezioneLineare')">Proiezione Lineare</button>
	</div>

	<div id="ScatterPlot" class="tabcontent">
		<h2>Scatter plot</h2>
		<div id="tooltip"></div>
		<div id='scatter_plot_content'></div>
		<div id="dimensionSelection">Menu</div>
	</div>

	<div id="ForceField" class="tabcontent">
		<h2>Force Field</h2>
		<p>Coming soon...</p>
	</div>

	<div id="HeatMap" class="tabcontent">
		<h2>Heat Map</h2>
		<p>Coming soon...</p>
	</div>

	<div id="DistanceMap" class="tabcontent">
		<h2>Distance Map</h2>
		<p>Coming soon...</p>
	</div>

	<div id="ProiezioneLineare" class="tabcontent">
		<h2>Proiezione Lineare Multiasse</h2>
		<p>Coming soon...</p>
	</div>

	<script>
		var x, i, j, l, ll, selElmnt, a, b, c;
		/*look for any elements with the class "custom-select":*/
		x = document.getElementsByClassName("custom-select");
		l = x.length;
		for (i = 0; i < l; i++) {
		  selElmnt = x[i].getElementsByTagName("select")[0];
		  ll = selElmnt.length;
		  /*for each element, create a new DIV that will act as the selected item:*/
		  a = document.createElement("DIV");
		  a.setAttribute("class", "select-selected");
		  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
		  x[i].appendChild(a);
		  /*for each element, create a new DIV that will contain the option list:*/
		  b = document.createElement("DIV");
		  b.setAttribute("class", "select-items select-hide");
		  for (j = 1; j < ll; j++) {
			/*for each option in the original select element,
			create a new DIV that will act as an option item:*/
			c = document.createElement("DIV");
			c.innerHTML = selElmnt.options[j].innerHTML;
			c.addEventListener("click", function(e) {
				/*when an item is clicked, update the original select box,
				and the selected item:*/
				var y, i, k, s, h, sl, yl;
				s = this.parentNode.parentNode.getElementsByTagName("select")[0];
				sl = s.length;
				h = this.parentNode.previousSibling;
				for (i = 0; i < sl; i++) {
				  if (s.options[i].innerHTML == this.innerHTML) {
					s.selectedIndex = i;
					h.innerHTML = this.innerHTML;
					y = this.parentNode.getElementsByClassName("same-as-selected");
					yl = y.length;
					for (k = 0; k < yl; k++) {
					  y[k].removeAttribute("class");
					}
					this.setAttribute("class", "same-as-selected");
					break;
				  }
				}
				h.click();
			});
			b.appendChild(c);
		  }
		  x[i].appendChild(b);
		  a.addEventListener("click", function(e) {
			  /*when the select box is clicked, close any other select boxes,
			  and open/close the current select box:*/
			  e.stopPropagation();
			  closeAllSelect(this);
			  this.nextSibling.classList.toggle("select-hide");
			  this.classList.toggle("select-arrow-active");
			});
		}
		function closeAllSelect(elmnt) {
		  /*a function that will close all select boxes in the document,
		  except the current select box:*/
		  var x, y, i, xl, yl, arrNo = [];
		  x = document.getElementsByClassName("select-items");
		  y = document.getElementsByClassName("select-selected");
		  xl = x.length;
		  yl = y.length;
		  for (i = 0; i < yl; i++) {
			if (elmnt == y[i]) {
			  arrNo.push(i)
			} else {
			  y[i].classList.remove("select-arrow-active");
			}
		  }
		  for (i = 0; i < xl; i++) {
			if (arrNo.indexOf(i)) {
			  x[i].classList.add("select-hide");
			}
		  }
		}
		/*if the user clicks anywhere outside the select box,
		then close all select boxes:*/
		document.addEventListener("click", closeAllSelect);
		</script>
</body>
</html>